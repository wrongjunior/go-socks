
# go-socks

`go-socks` - это реализация SOCKS5 прокси-сервера на языке Go. Проект позволяет пользователям запускать SOCKS5 прокси, который поддерживает передачу TCP/IP трафика через заданный порт.

## Описание проекта

Этот проект реализует SOCKS5 прокси-сервер в соответствии со стандартом SOCKS версии 5. Сервер принимает подключение от клиентов и выполняет команду `establish a TCP/IP stream connection` для пересылки данных. В проекте используются неблокирующиеся сокеты, что позволяет работать в рамках одного треда без блокирующихся вызовов, что обеспечивает оптимальную производительность.

**Особенности:**
- Поддержка команды `establish a TCP/IP stream connection` (код команды: 1).
- Неблокирующиеся сокеты, работа в одном треде.
- Аккуратное закрытие соединений после завершения передачи данных.
- Поддержка одновременной передачи данных в обе стороны (двунаправленный канал связи).
- Резолвинг доменных имен (тип адреса `0x03`) с использованием неблокирующегося DNS-запроса через UDP.

## Запуск и использование

1. Склонируйте репозиторий:
    ```sh
    git clone https://github.com/wrongjunior/go-socks.git
    cd go-socks
    ```

2. Скомпилируйте проект с помощью Go:
    ```sh
    go build -o go-socks
    ```

3. Запустите прокси-сервер:
    ```sh
    ./go-socks -port 1080
    ```

## Архитектура проекта

Проект состоит из следующих основных компонентов:

- **`main.go`**: Основная точка входа в приложение. Управляет вводом порта и запуском прокси-сервера.
- **Пакет `socks5proxy`**: Содержит основную логику реализации SOCKS5 прокси, включая чтение и запись сообщений, управление соединениями, резолвинг DNS-запросов.

Проект выполнен с учетом следующих ограничений и требований:
- Используются только неблокирующиеся сокеты. Никакие блокирующие вызовы не применяются, кроме вызова селектора.
- Избегается неограниченное расходование памяти при обслуживании клиента.
- Производительность прокси сопоставима с прямым соединением.
- Отсутствуют холостые циклы.

## Требования

- Go 1.21 или выше
- Подключение к интернету для тестирования с помощью браузера

## Видео демонстрация




https://github.com/user-attachments/assets/4d760476-90c8-45e1-957e-483055fcfbdc



## Примечания

Проект поддерживает только команду установления TCP/IP соединения и неблокирующий резолвинг DNS через UDP. Другие команды SOCKS5 не поддерживаются.

Для тестирования прокси-сервера можно использовать любой веб-браузер, настроив его на использование вашего прокси. Прокси-сервер способен обрабатывать любые веб-сайты с большим количеством контента для проверки производительности.

## Лицензия

Этот проект распространяется под лицензией MIT.
